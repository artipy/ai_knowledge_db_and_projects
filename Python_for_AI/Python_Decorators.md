# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –≤ Python

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Python, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∏–∑–º–µ–Ω—è—Ç—å –∏–ª–∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –∏ –º–µ—Ç–æ–¥–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Ö –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞. –î–ª—è AI engineers –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —è–≤–ª—è—é—Ç—Å—è –Ω–µ–∑–∞–º–µ–Ω–∏–º—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫ API –≤—ã–∑–æ–≤–∞–º, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è, –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- [[Python_for_AI/Tenacity_Library_for_Retry_Logic|–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ Tenacity –¥–ª—è retry-–ª–æ–≥–∏–∫–∏]] - –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ API
- [[OpenAI_API/Working_with_OpenAI_API_in_Python|–†–∞–±–æ—Ç–∞ —Å OpenAI API –≤ Python]] - –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API, –≥–¥–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —É–ª—É—á—à–∞—é—Ç –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å
- [[OpenAI_API/Introduction_to_OpenAI_API|–í–≤–µ–¥–µ–Ω–∏–µ –≤ OpenAI API]] - –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å API
- [[Prompt_Engineering/Prompt_Engineering_for_Business_Applications|Prompt Engineering –¥–ª—è –±–∏–∑–Ω–µ—Å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π]] - –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ API –¥–ª—è –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á, –≥–¥–µ –≤–∞–∂–Ω–∞ –Ω–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä?

**–î–µ–∫–æ—Ä–∞—Ç–æ—Ä** ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –∏–ª–∏ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é **—Ñ—É–Ω–∫—Ü–∏–π –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞** (higher-order functions) –∏ **–∑–∞–º—ã–∫–∞–Ω–∏–π** (closures).

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```python
@decorator
def function():
    pass
```

–≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:

```python
def function():
    pass

function = decorator(function)
```

## –ó–∞—á–µ–º AI Engineer –Ω—É–∂–Ω—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã?

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å AI/ML —Å–∏—Å—Ç–µ–º–∞–º–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —Ä–µ—à–∞—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á:

### 1. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏**
API —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –º–æ–≥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ—à–∏–±–∫–∏ ‚Äî –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—Ç retry-–ª–æ–≥–∏–∫—É.

### 2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**
–ó–∞–ø—Ä–æ—Å—ã –∫ LLM —Å—Ç–æ—è—Ç –¥–µ–Ω–µ–≥ –∏ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —ç–∫–æ–Ω–æ–º–∏—Ç —Ä–µ—Å—É—Ä—Å—ã.

### 3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—ã–∑–æ–≤–æ–≤ API, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –∞—É–¥–∏—Ç–∞.

### 4. **–ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
–ü–æ–Ω–∏–º–∞–Ω–∏–µ, —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∫ –º–æ–¥–µ–ª–∏, –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É.

### 5. **–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è**
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ –º–æ–¥–µ–ª—å.

### 6. **Rate limiting**
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

## –û—Å–Ω–æ–≤—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä

```python
def simple_decorator(func):
    """–ü—Ä–æ—Å—Ç–µ–π—à–∏–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é"""
    def wrapper():
        print("–î–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏")
        func()
        print("–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏")
    return wrapper

@simple_decorator
def say_hello():
    print("Hello!")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
say_hello()
```

**–í—ã–≤–æ–¥:**
```
–î–æ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏
Hello!
–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏
```

### –ü—Ä–∏–º–µ—Ä 2: –î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–∏

```python
def decorator_with_args(func):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã"""
    def wrapper(*args, **kwargs):
        print(f"–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ {func.__name__} —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: {args}, {kwargs}")
        result = func(*args, **kwargs)
        print(f"–§—É–Ω–∫—Ü–∏—è {func.__name__} –≤–µ—Ä–Ω—É–ª–∞: {result}")
        return result
    return wrapper

@decorator_with_args
def add(a, b):
    return a + b

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = add(3, 5)
print(f"–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {result}")
```

**–í—ã–≤–æ–¥:**
```
–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ add —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: (3, 5), {}
–§—É–Ω–∫—Ü–∏—è add –≤–µ—Ä–Ω—É–ª–∞: 8
–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 8
```

### –ü—Ä–∏–º–µ—Ä 3: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–∏

```python
from functools import wraps

def proper_decorator(func):
    """–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö"""
    @wraps(func)  # –°–æ—Ö—Ä–∞–Ω—è–µ—Ç __name__, __doc__ –∏ –¥—Ä—É–≥–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã
    def wrapper(*args, **kwargs):
        return func(*args, **kwargs)
    return wrapper

@proper_decorator
def important_function():
    """–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç —á—Ç–æ-—Ç–æ –≤–∞–∂–Ω–æ–µ"""
    pass

# –ë–µ–∑ @wraps –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏ –±—ã–ª–æ –±—ã "wrapper"
print(important_function.__name__)  # important_function
print(important_function.__doc__)   # –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç —á—Ç–æ-—Ç–æ –≤–∞–∂–Ω–æ–µ
```

**–í–∞–∂–Ω–æ:** –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `@wraps(func)` –≤–Ω—É—Ç—Ä–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏—Å—Ö–æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è AI Engineers

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä 1: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ API –≤—ã–∑–æ–≤–æ–≤

```python
import logging
from functools import wraps
from datetime import datetime

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

def log_api_call(func):
    """–õ–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ –≤—ã–∑–æ–≤—ã API —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        # –õ–æ–≥–∏—Ä—É–µ–º –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        logger.info(f"[{datetime.now()}] Calling {func.__name__}")
        logger.info(f"Arguments: args={args}, kwargs={kwargs}")

        try:
            # –í—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
            result = func(*args, **kwargs)

            # –õ–æ–≥–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            logger.info(f"[{datetime.now()}] {func.__name__} completed successfully")
            logger.info(f"Result length: {len(str(result))} characters")

            return result
        except Exception as e:
            # –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
            logger.error(f"[{datetime.now()}] {func.__name__} failed with error: {e}")
            raise

    return wrapper

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
from openai import OpenAI
import os

client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))

@log_api_call
def call_openai(prompt: str) -> str:
    """–í—ã–∑–æ–≤ OpenAI API —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º"""
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[{"role": "user", "content": prompt}]
    )
    return response.choices[0].message.content

# –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –¥–µ—Ç–∞–ª–∏
result = call_openai("–ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?")
```

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä 2: –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```python
import time
from functools import wraps

def measure_time(func):
    """–ò–∑–º–µ—Ä—è–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()

        duration = end_time - start_time
        print(f"‚è±Ô∏è {func.__name__} –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –∑–∞ {duration:.2f} —Å–µ–∫—É–Ω–¥")

        return result
    return wrapper

@measure_time
def slow_api_call(prompt: str) -> str:
    """API –≤—ã–∑–æ–≤ —Å –∏–∑–º–µ—Ä–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏"""
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[{"role": "user", "content": prompt}]
    )
    return response.choices[0].message.content

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = slow_api_call("–û–±—ä—è—Å–Ω–∏ –∫–≤–∞–Ω—Ç–æ–≤—É—é —Ñ–∏–∑–∏–∫—É")
# –í—ã–≤–æ–¥: ‚è±Ô∏è slow_api_call –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å –∑–∞ 3.42 —Å–µ–∫—É–Ω–¥
```

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä 3: –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```python
from functools import wraps
import hashlib
import json

def cache_results(func):
    """–ö–µ—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã API –≤—ã–∑–æ–≤–æ–≤ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Å—Ä–µ–¥—Å—Ç–≤"""
    cache = {}

    @wraps(func)
    def wrapper(*args, **kwargs):
        # –°–æ–∑–¥–∞—ë–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
        cache_key = hashlib.md5(
            json.dumps((args, kwargs), sort_keys=True).encode()
        ).hexdigest()

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –≤ –∫–µ—à–µ
        if cache_key in cache:
            print(f"‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –∫–µ—à–∞ –¥–ª—è {func.__name__}")
            return cache[cache_key]

        # –í—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∏ –∫–µ—à–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        print(f"üîÑ –í—ã–ø–æ–ª–Ω—è–µ–º {func.__name__} –∏ –∫–µ—à–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç")
        result = func(*args, **kwargs)
        cache[cache_key] = result

        return result

    # –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞
    wrapper.clear_cache = lambda: cache.clear()
    wrapper.cache_info = lambda: f"–†–∞–∑–º–µ—Ä –∫–µ—à–∞: {len(cache)} –∑–∞–ø–∏—Å–µ–π"

    return wrapper

@cache_results
def expensive_api_call(prompt: str) -> str:
    """API –≤—ã–∑–æ–≤ —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º"""
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[{"role": "user", "content": prompt}]
    )
    return response.choices[0].message.content

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result1 = expensive_api_call("–ß—Ç–æ —Ç–∞–∫–æ–µ Python?")  # –í—ã–∑–æ–≤ API
result2 = expensive_api_call("–ß—Ç–æ —Ç–∞–∫–æ–µ Python?")  # –ò–∑ –∫–µ—à–∞
result3 = expensive_api_call("–ß—Ç–æ —Ç–∞–∫–æ–µ Java?")    # –í—ã–∑–æ–≤ API

print(expensive_api_call.cache_info())  # –†–∞–∑–º–µ—Ä –∫–µ—à–∞: 2 –∑–∞–ø–∏—Å–µ–π
expensive_api_call.clear_cache()  # –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
```

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä 4: –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```python
from functools import wraps
from typing import get_type_hints

def validate_types(func):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–∏"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        # –ü–æ–ª—É—á–∞–µ–º –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤
        hints = get_type_hints(func)

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
        all_args = list(args)
        arg_names = list(hints.keys())[:len(args)]

        for arg_name, arg_value in zip(arg_names, all_args):
            if arg_name in hints:
                expected_type = hints[arg_name]
                if not isinstance(arg_value, expected_type):
                    raise TypeError(
                        f"–ê—Ä–≥—É–º–µ–Ω—Ç '{arg_name}' –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∏–ø–∞ {expected_type.__name__}, "
                        f"–ø–æ–ª—É—á–µ–Ω {type(arg_value).__name__}"
                    )

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
        for arg_name, arg_value in kwargs.items():
            if arg_name in hints:
                expected_type = hints[arg_name]
                if not isinstance(arg_value, expected_type):
                    raise TypeError(
                        f"–ê—Ä–≥—É–º–µ–Ω—Ç '{arg_name}' –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∏–ø–∞ {expected_type.__name__}, "
                        f"–ø–æ–ª—É—á–µ–Ω {type(arg_value).__name__}"
                    )

        return func(*args, **kwargs)

    return wrapper

@validate_types
def process_text(text: str, max_length: int = 100) -> str:
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ç–∏–ø–æ–≤"""
    return text[:max_length]

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = process_text("Hello, world!", max_length=5)  # ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
# result = process_text(123, max_length=5)  # ‚ùå TypeError
# result = process_text("Hello", max_length="5")  # ‚ùå TypeError
```

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä 5: Rate Limiting

```python
import time
from functools import wraps
from collections import deque

def rate_limit(max_calls: int, time_window: int):
    """
    –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏

    Args:
        max_calls: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤
        time_window: –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    """
    def decorator(func):
        calls = deque()

        @wraps(func)
        def wrapper(*args, **kwargs):
            now = time.time()

            # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –≤—ã–∑–æ–≤—ã –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞
            while calls and calls[0] < now - time_window:
                calls.popleft()

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç
            if len(calls) >= max_calls:
                sleep_time = time_window - (now - calls[0])
                print(f"‚è≥ Rate limit –¥–æ—Å—Ç–∏–≥–Ω—É—Ç. –û–∂–∏–¥–∞–Ω–∏–µ {sleep_time:.2f} —Å–µ–∫—É–Ω–¥...")
                time.sleep(sleep_time)
                calls.popleft()

            # –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π –≤—ã–∑–æ–≤
            calls.append(time.time())

            return func(*args, **kwargs)

        return wrapper
    return decorator

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –º–∞–∫—Å–∏–º—É–º 3 –≤—ã–∑–æ–≤–∞ –≤ –º–∏–Ω—É—Ç—É
@rate_limit(max_calls=3, time_window=60)
def call_limited_api(prompt: str) -> str:
    """API —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º 3 –∑–∞–ø—Ä–æ—Å–∞ –≤ –º–∏–Ω—É—Ç—É"""
    print(f"üîÑ –í—ã–∑–æ–≤ API: {prompt}")
    # –ó–¥–µ—Å—å –±—ã–ª –±—ã —Ä–µ–∞–ª—å–Ω—ã–π API –≤—ã–∑–æ–≤
    return f"–û—Ç–≤–µ—Ç –Ω–∞: {prompt}"

# –ü–µ—Ä–≤—ã–µ 3 –≤—ã–∑–æ–≤–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è —Å—Ä–∞–∑—É, 4-–π –±—É–¥–µ—Ç –∂–¥–∞—Ç—å
for i in range(5):
    result = call_limited_api(f"–ó–∞–ø—Ä–æ—Å #{i+1}")
```

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä 6: –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ (Simplified Retry)

```python
import time
from functools import wraps

def retry(max_attempts: int = 3, delay: float = 1.0, backoff: float = 2.0):
    """
    –ü–æ–≤—Ç–æ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ

    Args:
        max_attempts: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
        delay: –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
        backoff: –ú–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏
    """
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            current_delay = delay

            for attempt in range(1, max_attempts + 1):
                try:
                    return func(*args, **kwargs)
                except Exception as e:
                    if attempt == max_attempts:
                        print(f"‚ùå –í—Å–µ {max_attempts} –ø–æ–ø—ã—Ç–æ–∫ –∏—Å—á–µ—Ä–ø–∞–Ω—ã")
                        raise

                    print(f"‚ö†Ô∏è –ü–æ–ø—ã—Ç–∫–∞ {attempt} –Ω–µ —É–¥–∞–ª–∞—Å—å: {e}")
                    print(f"‚è≥ –ü–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ {current_delay:.1f} —Å–µ–∫—É–Ω–¥...")
                    time.sleep(current_delay)
                    current_delay *= backoff

        return wrapper
    return decorator

@retry(max_attempts=3, delay=1.0, backoff=2.0)
def unstable_api_call(prompt: str) -> str:
    """API –≤—ã–∑–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø–∞–¥–∞—Ç—å"""
    import random
    if random.random() < 0.7:  # 70% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—à–∏–±–∫–∏
        raise ConnectionError("API –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω")
    return "–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç"

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result = unstable_api_call("Test prompt")
```

## –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

### –ü—Ä–∏–º–µ—Ä: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```python
from functools import wraps
import logging

def log_with_level(level: str = "INFO"):
    """
    –î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º - —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

    Args:
        level: –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR)
    """
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            logger = logging.getLogger(func.__name__)
            log_func = getattr(logger, level.lower())

            log_func(f"–í—ã–∑–æ–≤ {func.__name__} —Å args={args}, kwargs={kwargs}")
            result = func(*args, **kwargs)
            log_func(f"{func.__name__} –∑–∞–≤–µ—Ä—à–µ–Ω–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {result}")

            return result
        return wrapper
    return decorator

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
@log_with_level("DEBUG")
def debug_function(x: int) -> int:
    return x * 2

@log_with_level("ERROR")
def critical_function(x: int) -> int:
    return x * 3
```

## –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å, –ø—Ä–∏–º–µ–Ω—è—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:

```python
@log_api_call
@measure_time
@cache_results
@retry(max_attempts=3)
def complex_api_call(prompt: str) -> str:
    """
    –§—É–Ω–∫—Ü–∏—è —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏:
    1. –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
    2. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    3. –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
    4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤
    """
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[{"role": "user", "content": prompt}]
    )
    return response.choices[0].message.content
```

**–í–∞–∂–Ω–æ:** –ü–æ—Ä—è–¥–æ–∫ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ! –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö:
1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è `@retry`
2. –ó–∞—Ç–µ–º `@cache_results`
3. –ó–∞—Ç–µ–º `@measure_time`
4. –ü–æ—Å–ª–µ–¥–Ω–∏–º `@log_api_call`

## –ö–ª–∞—Å—Å–æ–≤—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∫–ª–∞—Å—Å—ã:

```python
class CountCalls:
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä-–∫–ª–∞—Å—Å –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏"""

    def __init__(self, func):
        self.func = func
        self.count = 0

    def __call__(self, *args, **kwargs):
        self.count += 1
        print(f"–í—ã–∑–æ–≤ #{self.count} —Ñ—É–Ω–∫—Ü–∏–∏ {self.func.__name__}")
        return self.func(*args, **kwargs)

    def reset_count(self):
        """–°–±—Ä–æ—Å —Å—á—ë—Ç—á–∏–∫–∞"""
        self.count = 0

@CountCalls
def api_call(prompt: str) -> str:
    return f"–û–±—Ä–∞–±–æ—Ç–∞–Ω: {prompt}"

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
api_call("–ó–∞–ø—Ä–æ—Å 1")  # –í—ã–∑–æ–≤ #1 —Ñ—É–Ω–∫—Ü–∏–∏ api_call
api_call("–ó–∞–ø—Ä–æ—Å 2")  # –í—ã–∑–æ–≤ #2 —Ñ—É–Ω–∫—Ü–∏–∏ api_call
print(f"–í—Å–µ–≥–æ –≤—ã–∑–æ–≤–æ–≤: {api_call.count}")  # –í—Å–µ–≥–æ –≤—ã–∑–æ–≤–æ–≤: 2
api_call.reset_count()
```

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä: Production-Ready –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è AI API

```python
from functools import wraps
import time
import logging
from typing import Optional, Callable, Any
from dataclasses import dataclass
import hashlib
import json

@dataclass
class APICallMetrics:
    """–ú–µ—Ç—Ä–∏–∫–∏ –≤—ã–∑–æ–≤–∞ API"""
    function_name: str
    duration: float
    success: bool
    cached: bool
    attempt: int
    error: Optional[str] = None

class AIAPIDecorator:
    """
    Production-ready –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è AI API —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏–π:
    - Retry –ª–æ–≥–∏–∫–∞
    - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
    - –ú–µ—Ç—Ä–∏–∫–∏
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    """

    def __init__(
        self,
        max_retries: int = 3,
        cache_enabled: bool = True,
        log_enabled: bool = True,
        metrics_callback: Optional[Callable[[APICallMetrics], None]] = None
    ):
        self.max_retries = max_retries
        self.cache_enabled = cache_enabled
        self.log_enabled = log_enabled
        self.metrics_callback = metrics_callback
        self.cache = {}
        self.logger = logging.getLogger(__name__)

    def __call__(self, func: Callable) -> Callable:
        @wraps(func)
        def wrapper(*args, **kwargs) -> Any:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–µ—à
            if self.cache_enabled:
                cache_key = self._get_cache_key(args, kwargs)
                if cache_key in self.cache:
                    if self.log_enabled:
                        self.logger.info(f"‚úÖ Cache hit for {func.__name__}")

                    metrics = APICallMetrics(
                        function_name=func.__name__,
                        duration=0.0,
                        success=True,
                        cached=True,
                        attempt=0
                    )
                    if self.metrics_callback:
                        self.metrics_callback(metrics)

                    return self.cache[cache_key]

            # Retry –ª–æ–≥–∏–∫–∞
            last_exception = None
            for attempt in range(1, self.max_retries + 1):
                start_time = time.time()

                try:
                    if self.log_enabled:
                        self.logger.info(f"üîÑ Calling {func.__name__} (attempt {attempt}/{self.max_retries})")

                    result = func(*args, **kwargs)
                    duration = time.time() - start_time

                    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫–µ—à
                    if self.cache_enabled:
                        cache_key = self._get_cache_key(args, kwargs)
                        self.cache[cache_key] = result

                    # –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞
                    metrics = APICallMetrics(
                        function_name=func.__name__,
                        duration=duration,
                        success=True,
                        cached=False,
                        attempt=attempt
                    )
                    if self.metrics_callback:
                        self.metrics_callback(metrics)

                    if self.log_enabled:
                        self.logger.info(f"‚úÖ {func.__name__} completed in {duration:.2f}s")

                    return result

                except Exception as e:
                    duration = time.time() - start_time
                    last_exception = e

                    if self.log_enabled:
                        self.logger.warning(f"‚ö†Ô∏è Attempt {attempt} failed: {e}")

                    if attempt < self.max_retries:
                        sleep_time = 2 ** attempt  # –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
                        time.sleep(sleep_time)

            # –í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –∏—Å—á–µ—Ä–ø–∞–Ω—ã
            metrics = APICallMetrics(
                function_name=func.__name__,
                duration=duration,
                success=False,
                cached=False,
                attempt=self.max_retries,
                error=str(last_exception)
            )
            if self.metrics_callback:
                self.metrics_callback(metrics)

            raise last_exception

        # –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        wrapper.clear_cache = lambda: self.cache.clear()
        wrapper.cache_size = lambda: len(self.cache)

        return wrapper

    def _get_cache_key(self, args: tuple, kwargs: dict) -> str:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–ª—é—á –∫–µ—à–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤"""
        return hashlib.md5(
            json.dumps((args, kwargs), sort_keys=True, default=str).encode()
        ).hexdigest()

# Callback –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
def collect_metrics(metrics: APICallMetrics):
    """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"""
    print(f"üìä Metrics: {metrics}")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
api_decorator = AIAPIDecorator(
    max_retries=3,
    cache_enabled=True,
    log_enabled=True,
    metrics_callback=collect_metrics
)

@api_decorator
def call_gpt4(prompt: str, temperature: float = 0.7) -> str:
    """Production API –≤—ã–∑–æ–≤ —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏–π"""
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[{"role": "user", "content": prompt}],
        temperature=temperature
    )
    return response.choices[0].message.content

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
result1 = call_gpt4("–ß—Ç–æ —Ç–∞–∫–æ–µ Python?")  # API –≤—ã–∑–æ–≤
result2 = call_gpt4("–ß—Ç–æ —Ç–∞–∫–æ–µ Python?")  # –ò–∑ –∫–µ—à–∞
print(f"–†–∞–∑–º–µ—Ä –∫–µ—à–∞: {call_gpt4.cache_size()}")
```

## –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞

### @staticmethod, @classmethod, @property

Python –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–ª–∞—Å—Å–∞–º–∏:

```python
class AIModel:
    """–ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AI –º–æ–¥–µ–ª—å—é"""

    model_name = "gpt-4"

    def __init__(self, api_key: str):
        self.api_key = api_key
        self._temperature = 0.7

    @property
    def temperature(self) -> float:
        """Getter –¥–ª—è temperature"""
        return self._temperature

    @temperature.setter
    def temperature(self, value: float):
        """Setter –¥–ª—è temperature —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π"""
        if not 0 <= value <= 2:
            raise ValueError("Temperature –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–µ–∂–¥—É 0 –∏ 2")
        self._temperature = value

    @staticmethod
    def validate_prompt(prompt: str) -> bool:
        """–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞"""
        return len(prompt) > 0 and len(prompt) < 10000

    @classmethod
    def from_env(cls) -> 'AIModel':
        """–ö–ª–∞—Å—Å–æ–≤—ã–π –º–µ—Ç–æ–¥ - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä"""
        import os
        api_key = os.getenv("OPENAI_API_KEY")
        return cls(api_key)

    def call_api(self, prompt: str) -> str:
        """–û–±—ã—á–Ω—ã–π –º–µ—Ç–æ–¥ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞"""
        if not self.validate_prompt(prompt):
            raise ValueError("–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π prompt")
        # API –≤—ã–∑–æ–≤
        return f"Response for: {prompt}"

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
model = AIModel.from_env()  # –ö–ª–∞—Å—Å–æ–≤—ã–π –º–µ—Ç–æ–¥
print(AIModel.validate_prompt("Hello"))  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥
model.temperature = 0.9  # Property setter
print(model.temperature)  # Property getter
```

## Best Practices

### 1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ @wraps**
```python
from functools import wraps

def good_decorator(func):
    @wraps(func)  # ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    def wrapper(*args, **kwargs):
        return func(*args, **kwargs)
    return wrapper
```

### 2. **–î–µ–ª–∞–π—Ç–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–º–∏**
```python
def configurable_decorator(param1="default", param2=10):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏"""
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            # –ò—Å–ø–æ–ª—å–∑—É–µ–º param1 –∏ param2
            return func(*args, **kwargs)
        return wrapper
    return decorator
```

### 3. **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
```python
def safe_decorator(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        try:
            return func(*args, **kwargs)
        except Exception as e:
            logging.error(f"Error in {func.__name__}: {e}")
            raise  # ‚úÖ –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–∞–ª—å—à–µ
    return wrapper
```

### 4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã**
```python
def well_documented_decorator(timeout: int = 30):
    """
    –î–æ–±–∞–≤–ª—è–µ—Ç timeout –∫ —Ñ—É–Ω–∫—Ü–∏–∏

    Args:
        timeout: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö

    Returns:
        –î–µ–∫–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å timeout

    Raises:
        TimeoutError: –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ–ª—å—à–µ timeout

    Example:
        @well_documented_decorator(timeout=10)
        def slow_function():
            time.sleep(5)
    """
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            # Implementation
            pass
        return wrapper
    return decorator
```

### 5. **–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏**
```python
def transparent_decorator(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        return func(*args, **kwargs)

    wrapper.__wrapped__ = func  # ‚úÖ –î–æ—Å—Ç—É–ø –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    return wrapper

@transparent_decorator
def my_function():
    pass

# –î–æ—Å—Ç—É–ø –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
original = my_function.__wrapped__
```

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å

### –û—à–∏–±–∫–∞ 1: –ó–∞–±—ã–ª–∏ @wraps
```python
# ‚ùå –ü–õ–û–•–û
def bad_decorator(func):
    def wrapper(*args, **kwargs):
        return func(*args, **kwargs)
    return wrapper

@bad_decorator
def my_func():
    """–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"""
    pass

print(my_func.__name__)  # wrapper (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)

# ‚úÖ –•–û–†–û–®–û
from functools import wraps

def good_decorator(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        return func(*args, **kwargs)
    return wrapper

@good_decorator
def my_func():
    """–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"""
    pass

print(my_func.__name__)  # my_func (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
```

### –û—à–∏–±–∫–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤
```python
# ‚ùå –ü–õ–û–•–û - measure_time –±—É–¥–µ—Ç –∏–∑–º–µ—Ä—è—Ç—å –≤—Ä–µ–º—è –∫–µ—à–∞
@measure_time
@cache_results
def api_call():
    pass

# ‚úÖ –•–û–†–û–®–û - measure_time –∏–∑–º–µ—Ä—è–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è API
@cache_results
@measure_time
def api_call():
    pass
```

### –û—à–∏–±–∫–∞ 3: –ò–∑–º–µ–Ω—è–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```python
# ‚ùå –ü–õ–û–•–û
def bad_cache_decorator(func, cache={}):  # –ú—É—Ç–∞–±–µ–ª—å–Ω—ã–π default!
    @wraps(func)
    def wrapper(*args):
        if args not in cache:
            cache[args] = func(*args)
        return cache[args]
    return wrapper

# ‚úÖ –•–û–†–û–®–û
def good_cache_decorator(func):
    cache = {}  # –°–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞
    @wraps(func)
    def wrapper(*args):
        if args not in cache:
            cache[args] = func(*args)
        return cache[args]
    return wrapper
```

## –†–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä: –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è OpenAI API —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏

```python
from functools import wraps
import time
import logging
from typing import Optional
from dataclasses import dataclass, field
from datetime import datetime

@dataclass
class OpenAICallStats:
    """–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–∑–æ–≤–æ–≤ OpenAI API"""
    total_calls: int = 0
    successful_calls: int = 0
    failed_calls: int = 0
    total_tokens: int = 0
    total_cost: float = 0.0
    total_duration: float = 0.0
    calls_history: list = field(default_factory=list)

class OpenAIDecorator:
    """–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è OpenAI API"""

    def __init__(self):
        self.stats = OpenAICallStats()
        self.logger = logging.getLogger(__name__)

    def monitor(
        self,
        model_pricing: dict = {"input": 0.03/1000, "output": 0.06/1000}
    ):
        """
        –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ OpenAI –≤—ã–∑–æ–≤–æ–≤

        Args:
            model_pricing: –¶–µ–Ω—ã –Ω–∞ —Ç–æ–∫–µ–Ω—ã (input –∏ output –Ω–∞ 1000 —Ç–æ–∫–µ–Ω–æ–≤)
        """
        def decorator(func):
            @wraps(func)
            def wrapper(*args, **kwargs):
                self.stats.total_calls += 1
                start_time = time.time()

                try:
                    # –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
                    result = func(*args, **kwargs)
                    duration = time.time() - start_time

                    # –ò–∑–≤–ª–µ–∫–∞–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑ response (–µ—Å–ª–∏ —ç—Ç–æ OpenAI response)
                    if hasattr(result, 'usage'):
                        input_tokens = result.usage.prompt_tokens
                        output_tokens = result.usage.completion_tokens
                        total_tokens = result.usage.total_tokens

                        # –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å
                        cost = (
                            input_tokens * model_pricing["input"] +
                            output_tokens * model_pricing["output"]
                        )

                        self.stats.total_tokens += total_tokens
                        self.stats.total_cost += cost

                        # –õ–æ–≥–∏—Ä—É–µ–º –¥–µ—Ç–∞–ª–∏
                        self.logger.info(
                            f"‚úÖ {func.__name__}: {duration:.2f}s, "
                            f"{total_tokens} tokens, ${cost:.4f}"
                        )

                    self.stats.successful_calls += 1
                    self.stats.total_duration += duration

                    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                    self.stats.calls_history.append({
                        "timestamp": datetime.now().isoformat(),
                        "function": func.__name__,
                        "duration": duration,
                        "success": True
                    })

                    return result

                except Exception as e:
                    duration = time.time() - start_time
                    self.stats.failed_calls += 1
                    self.stats.total_duration += duration

                    self.logger.error(f"‚ùå {func.__name__} failed: {e}")

                    self.stats.calls_history.append({
                        "timestamp": datetime.now().isoformat(),
                        "function": func.__name__,
                        "duration": duration,
                        "success": False,
                        "error": str(e)
                    })

                    raise

            return wrapper
        return decorator

    def get_report(self) -> str:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç –ø–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ"""
        if self.stats.total_calls == 0:
            return "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç—á—ë—Ç–∞"

        success_rate = (self.stats.successful_calls / self.stats.total_calls) * 100
        avg_duration = self.stats.total_duration / self.stats.total_calls

        return f"""
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë     OpenAI API Call Statistics       ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   ‚Ä¢ –í—Å–µ–≥–æ –≤—ã–∑–æ–≤–æ–≤: {self.stats.total_calls}
   ‚Ä¢ –£—Å–ø–µ—à–Ω—ã—Ö: {self.stats.successful_calls}
   ‚Ä¢ –ù–µ—É–¥–∞—á–Ω—ã—Ö: {self.stats.failed_calls}
   ‚Ä¢ Success Rate: {success_rate:.1f}%

‚è±Ô∏è  –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
   ‚Ä¢ –û–±—â–µ–µ –≤—Ä–µ–º—è: {self.stats.total_duration:.2f}s
   ‚Ä¢ –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: {avg_duration:.2f}s

üéØ –¢–æ–∫–µ–Ω—ã –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å:
   ‚Ä¢ –í—Å–µ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤: {self.stats.total_tokens:,}
   ‚Ä¢ –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${self.stats.total_cost:.4f}
   ‚Ä¢ –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${self.stats.total_cost/self.stats.successful_calls:.4f}
        """

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
monitor = OpenAIDecorator()

@monitor.monitor(model_pricing={"input": 0.03/1000, "output": 0.06/1000})
def chat_completion(prompt: str):
    """–û–±—ë—Ä–Ω—É—Ç—ã–π API –≤—ã–∑–æ–≤"""
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[{"role": "user", "content": prompt}]
    )
    return response

# –í—ã–ø–æ–ª–Ω—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—ã–∑–æ–≤–æ–≤
chat_completion("–ß—Ç–æ —Ç–∞–∫–æ–µ Python?")
chat_completion("–ß—Ç–æ —Ç–∞–∫–æ–µ AI?")
chat_completion("–ß—Ç–æ —Ç–∞–∫–æ–µ ML?")

# –ü–æ–ª—É—á–∞–µ–º –æ—Ç—á—ë—Ç
print(monitor.get_report())
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Python, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç:

‚úÖ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥** ‚Äî –æ–¥–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –º–Ω–æ–≥–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º
‚úÖ **–†–∞–∑–¥–µ–ª—è—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å** ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –æ–¥–Ω–æ, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
‚úÖ **–£–ª—É—á—à–∞—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å** ‚Äî –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –ø–æ–Ω—è—Ç–Ω–µ–µ
‚úÖ **–£–ø—Ä–æ—â–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ª–æ–≥–∏–∫—É –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã** ‚Äî –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è AI Engineer –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å:
- API –≤—ã–∑–æ–≤–∞–º–∏ (retry, rate limiting, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
- –ò–∑–º–µ—Ä–µ–Ω–∏–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –í–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –∑–∞–ø—Ä–æ—Å–æ–≤

**–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è cross-cutting concerns (—Å–∫–≤–æ–∑–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –º–Ω–æ–≥–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [PEP 318 - Decorators for Functions and Methods](https://www.python.org/dev/peps/pep-0318/)
- [Real Python: Primer on Python Decorators](https://realpython.com/primer-on-python-decorators/)
- [[Python_for_AI/Tenacity_Library_for_Retry_Logic|–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ Tenacity]] - –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è retry-–ª–æ–≥–∏–∫–∏

---

*–≠—Ç–∞ –∑–∞–º–µ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è AI Engineers, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å Python –∏ —è–∑—ã–∫–æ–≤—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏.*
